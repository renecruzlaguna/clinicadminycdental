{% extends 'base.html.twig' %}

{% block css %}
    {{ parent() }}
    <link href="{{asset('bundles/app/css/plugins/chosen/bootstrap-chosen.css')}}" rel="stylesheet">
    <link href="{{asset('bundles/app/css/plugins/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css')}}" rel="stylesheet">
    <link href="{{asset('bundles/app/css/plugins/touchspin/jquery.bootstrap-touchspin.min.css')}}" rel="stylesheet">

{% endblock %}
{% block content %}
    <h3 class="center-block">Adicionar paciente  </h3>
    <div class="panel  panel-primary"></div>

    <form class="m-t" role="form" action="{{ path('manage_client_user_add') }}" id="form-user" method="POST">

        <div class="row">
            {% if exception is defined %}
                <div class="form-group has-error">{{ exception  }} </div>
            {% endif %}
            <div class="col-lg-12">
                <div class="col-lg-4">

                    {% if errors and errors.nombre is defined %}
                        <div class="form-group has-error">
                            <span class="help-block">
                                <strong>{{ errors['nombre'] }}</strong>
                            </span>
                        {% else %}
                            <div class="form-group">
                            {% endif %}
                            <input type="text" {% if data and data['nombre'] %}
                                   value="{{ data['nombre'] }}"
                                   {% endif %} class="form-control" name="nombre" placeholder="Nombre" required="">
                            </div>
                            {% if errors and errors.apellido is defined%}
                                <div class="form-group has-error">
                                    <span class="help-block">
                                        <strong>{{ errors['apellido'] }}</strong>
                                    </span>
                                {% else %}
                                    <div class="form-group">
                                    {% endif %}
                                    <input type="text" {% if data and data['apellido'] %}
                                           value="{{ data['apellido'] }}"
                                           {% endif %} class="form-control" name="apellido" placeholder="Apellidos"
                                               required="">
                                    </div>
                                    {% if errors and errors.edad is defined %}
                                        <div class="form-group has-error">
                                            <span class="help-block">
                                                <strong>{{ errors['edad'] }}</strong>
                                            </span>
                                        {% else %}
                                            <div class="form-group">
                                            {% endif %}
                                            <input type="text" {% if data and data['edad'] %}
                                                   value="{{ data['edad'] }}"
                                                   {% endif %} class="form-control touchspin3" name="edad" id="edadfield" placeholder="Edad" required="">
                                            </div>


                                            {% if errors and errors.direccion is defined %}
                                                <div class="form-group has-error">
                                                    <span class="help-block">
                                                        <strong>{{ errors['direccion'] }}</strong>
                                                    </span>
                                                {% else %}
                                                    <div class="form-group">
                                                    {% endif %}
                                                    <input type="text" {% if data and data['direccion'] %}
                                                           value="{{ data['direccion'] }}"
                                                           {% endif %} class="form-control" name="direccion"
                                                               placeholder="Dirección"
                                                               >
                                                    </div>

                                                </div>



                                                <div class="col-lg-4">
                                                    {% if errors and errors.cedula is defined %}
                                                        <div class="form-group has-error">
                                                            <span class="help-block">
                                                                <strong>{{ errors['cedula'] }}</strong>
                                                            </span>
                                                        {% else %}
                                                            <div class="form-group">
                                                            {% endif %}
                                                            <input type="text" class="form-control"
                                                                   {% if data and data['cedula'] %}
                                                                       value="{{ data['cedula'] }}"
                                                                   {% endif %}
                                                                   name="cedula"  data-mask="9999999999" placeholder="Cédula">
                                                        </div>



                                                        {% if errors and errors.telefono is defined %}
                                                            <div class="form-group has-error">
                                                                <span class="help-block">
                                                                    <strong>{{ errors['telefono'] }}</strong>
                                                                </span>
                                                            {% else %}
                                                                <div class="form-group">
                                                                {% endif %}
                                                                <input type="text" {% if data and data['telefono'] %}
                                                                       value="{{ data['telefono'] }}"
                                                                       {% endif %} class="form-control" name="telefono"
                                                                           data-mask="99-9999-9999" placeholder="Teléfono"
                                                                           required="">
                                                                </div>

                                                                {% if errors and errors.telefonoConvencional is defined %}
                                                                    <div class="form-group has-error">
                                                                        <span class="help-block">
                                                                            <strong>{{ errors['telefonoConvencional'] }}</strong>
                                                                        </span>
                                                                    {% else %}
                                                                        <div class="form-group">
                                                                        {% endif %}
                                                                        <input type="text" {% if data and data['telefonoConvencional'] %}
                                                                               value="{{ data['telefonoConvencional'] }}"
                                                                               {% endif %} class="form-control" name="telefonoConvencional"
                                                                                   data-mask="99-9999999" placeholder="Teléfono convencional"
                                                                                   >
                                                                        </div>





                                                                        {% for client in  client_type %}
                                                                            <div class="radio {{ client.class }} radio-inline" >
                                                                                <input type="radio" value="{{ client.value }}" name="tipocliente" checked="" >
                                                                                <label for="inlineRadio1"><span class="{{ client.label_class }}" >{{ client.name |raw }}</span></label>
                                                                            </div>
                                                                        {% endfor %}




                                                                    </div>







                                                                    <div  class="col-lg-4">



                                                                        {% if errors and errors.nombreUsuario is defined %}
                                                                            <div class="form-group has-error">
                                                                                <span class="help-block">
                                                                                    <strong>{{ errors['nombreUsuario'] }}</strong>
                                                                                </span>
                                                                            {% else %}
                                                                                <div class="form-group">
                                                                                {% endif %}

                                                                                <input id="nombreUsuario" type="text" {% if data and data['nombreUsuario'] is defined %}
                                                                                       value="{{ data['nombreUsuario'] }}"
                                                                                       {% endif %} class="form-control" name="nombreUsuario"
                                                                                           placeholder="Nombre de usuario"
                                                                                           required="">
                                                                                </div>
                                                                                {% if errors and errors.password is defined %}
                                                                                    <div class="form-group has-error">
                                                                                        <span class="help-block">
                                                                                            <strong>{{ errors['password'] }}</strong>
                                                                                        </span>
                                                                                    {% else %}
                                                                                        <div class="form-group">
                                                                                        {% endif %}
                                                                                        <input type="password" {% if data and data['password']  %}
                                                                                               value="{{ data['password'] }}"
                                                                                               {% endif %} class="form-control" name="password"
                                                                                                   placeholder="Contraseña"
                                                                                                   required="">
                                                                                        </div>








                                                                                        {% if errors and errors.correo is defined %}
                                                                                            <div class="form-group has-error">
                                                                                                <span class="help-block">
                                                                                                    <strong>{{ errors['correo'] }}</strong>
                                                                                                </span>
                                                                                            {% else %}
                                                                                                <div class="form-group">
                                                                                                {% endif %}
                                                                                                <input type="email" {% if data and data['correo'] %}
                                                                                                       value="{{ data['correo'] }}"
                                                                                                       {% endif %} class="form-control" name="correo" placeholder="Correo">
                                                                                                </div>


                                                                                                {% if errors and errors.mensualidad is defined %}
                                                                                                    <div class="form-group has-error">
                                                                                                        <span class="help-block">
                                                                                                            <strong>{{ errors['mensualidad'] }}</strong>
                                                                                                        </span>
                                                                                                        <div class="form-group">

                                                                                                            <input id="mensualidadfield" type="text" {% if data and data['mensualidad']>=0 %}
                                                                                                                   value="{{ data['mensualidad'] }}"
                                                                                                            {% endif %} class="form-control touchspin3" name="mensualidad" placeholder="Mensualidad" required="">
                                                                                                    </div>
                                                                                                </div>
                                                                                                {% else %}
                                                                                                    <div class="form-group">

                                                                                                        <input id="mensualidadfield" type="text" {% if data and data['mensualidad']>=0 %}
                                                                                                               value="{{ data['mensualidad'] }}" {% else %}  value="0"
                                                                                                               {% endif %} class="form-control touchspin3" name="mensualidad" placeholder="Mensualidad" required="">
                                                                                                        </div>

                                                                                                        {% endif %}
                                                                                                        </div>
                                                                                                    </div>


                                                                                                    <div class="form-group">


                                                                                                        <div class="col-lg-offset-8">


                                                                                                            <button type="submit" class=" btn btn-primary">Aceptar</button>
                                                                                                            <a href="{{ path('manage_client_user_list') }}" class=" btn btn-warning">Volver al listado</a>
                                                                                                        </div>

                                                                                                    </div>





                                                                                                    </form>

                                                                                                    <!-- Mainly scripts -->
                                                                                                    <script src="{{ asset('bundles/app/js/jquery-2.1.1.js') }}"></script>
                                                                                                    <script src="{{ asset('bundles/app/js/bootstrap.min.js') }}"></script>
                                                                                                    <script src="{{ asset('bundles/app/js/plugins/metisMenu/jquery.metisMenu.js') }}"></script>
                                                                                                    <script src="{{ asset('bundles/app/js/plugins/slimscroll/jquery.slimscroll.min.js') }}"></script>

                                                                                                    <script src="{{ asset('bundles/app/js/plugins/jasny/jasny-bootstrap.min.js') }}"></script>
                                                                                                    <script src="{{ asset('bundles/app/js/plugins/chosen/chosen.jquery.js') }}"></script>
                                                                                                    <script src="{{ asset('bundles/app/js/plugins/touchspin/jquery.bootstrap-touchspin.min.js') }}"></script>

                                                                                                    <script src="{{ asset('bundles/app/js/plugins/bootstrap-tagsinput/bootstrap-tagsinput.js') }}"></script>

                                                                                                    <script src="{{asset('bundles/app/js/plugins/validation/jquery.validationEngine.js')}}"></script>


                                                                                                    <script src="{{asset('bundles/app/js/plugins/validation/jquery.validate.min.js')}}"></script>

                                                                                                    <script src="{{asset('bundles/app/js/plugins/validation/additionalValidator.js')}}"></script>
                                                                                                    <script>
                                                                                                        id_user = -1;
                                                                                                        $(document).ready(function () {

                                                                                                            $("#edadfield").TouchSpin({
                                                                                                                verticalbuttons: true,
                                                                                                                buttondown_class: 'btn btn-white',
                                                                                                                buttonup_class: 'btn btn-white',
                                                                                                                max: 120,
                                                                                                                min: 1
                                                                                                            });

                                                                                                            $("#mensualidadfield").TouchSpin({
                                                                                                                verticalbuttons: true,
                                                                                                                buttondown_class: 'btn btn-white',
                                                                                                                buttonup_class: 'btn btn-white',
                                                                                                                step: 0.5,
                                                                                                                decimals: 2,
                                                                                                                min: 0,
                                                                                                                max: 10000
                                                                                                            });
                                                                                                        })</script>

                                                                                                    <script src="{{ asset('bundles/app/js/custom/validationUser.js') }}"></script>
                                                                                                    {{ parent() }}
                                                                                                    <script>
                                                                                                        $(function () {
                                                                                                            formUserValidation(2);
                                                                                                        });
                                                                                                    </script>
                                                                                                    {% endblock %}